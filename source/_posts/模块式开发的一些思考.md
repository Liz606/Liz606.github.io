---
title: 模块式开发的一些思考
date: 2017-03-16 22:13:56
categories: Programming
tags: 思考
---
反思最近模块式开发过程中遇到的问题，总结下自己对代码管理的心得。
<!--more-->
#### 我们为什么需要模块化编程

- 规划功能代码块，增加代码复用率，降低代码量
- 便于后期维护，便于二次优化及后续功能加强

#### 如何进行功能模块分化

自有古训，过犹不及。模块化管理代码固然优秀，但是需要把握细分程度，否则整个工程都在调用API，文件一堆有一堆，繁锁又鸡肋。
举例来说：
现在要开发一个用户注册模块，功能要求如下：

- 用户名检查（长度5-12位，以字母开头，由数字、字母、下划线组成）
- 邮箱检查
- 密码检查（长度6-18位）
- 二次密码是否一致检查


功能模块分析：

- 底层功能模块： validator模块（进行长度和二进制检查，符合规则返回对应flag）
- 状态控制模块：active模块（不同的表示状态，显示检查通过状态信息）
- 中间层调用模块： check模块（针对form表单的input元素进行check，调用validator，根据其返回结果调用active模块）

#### 为什么要如此划分

- validator不一定只用于注册检查，整个工程里需要进行筛选的功能都可以放在这里。相当于做了一个匹配库。甚至都不用自己写，github有很多这样的优秀功能库。大大减轻了开发难度。
- 同样active也不一定只用于注册页，相当于自己的自定义动作库。针对自己工程里面的反应动作进行风格整合，按需调用。这里的优势在于，相似动作都在这个模块，修改需求及后期扩展功能都非常便捷，只需要找到这个文件进行多向开发即可，再也不用满js文件找方法啦~
- 中间层，与MVC的C有异曲同工之妙。MVC中C的作用就是控制M层的数据走向，按规范传递数据到V层。这里的check就是将数据送入Validator检测中心，得到检测结果是有毒还是安全。再根据检测结果，调用Active做允许服用操作还是舍弃操作~